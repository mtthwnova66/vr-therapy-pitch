<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Synaeon - AI-Powered VR Therapy</title>
    <meta name="description" content="Synaeon offers AI-powered VR therapy that transforms mental health treatment with real-time, adaptive, and clinically effective exposure therapy.">
    <meta name="keywords" content="VR therapy, AI therapy, exposure therapy, mental health, anxiety treatment, VR healthcare">
    <meta name="author" content="Synaeon">
    <meta property="og:title" content="Synaeon - AI-Powered VR Therapy">
    <meta property="og:description" content="Revolutionizing mental health treatment with AI-powered VR exposure therapy.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://synaeon.com/">
    <meta name="twitter:card" content="summary_large_image" />

    <link rel="icon" type="image/png" href="syneon_image.png" />
    <link rel="apple-touch-icon" href="syneon_image.png" />

    <!-- Force background to black immediately to prevent any white flash -->
    <style>
      html, body {
        margin: 0;
        padding: 0;
        background: #000 !important;
      }
      /* After loading, switch the body to the intended gradient */
      body.loaded {
        background: linear-gradient(135deg, #0a0a23, #1a1a3d);
        transition: background 0.5s ease;
      }
      /* Main content will start with a black background for seamless transition */
      #main-content {
        background-color: #000;
        transition: background-color 0.5s ease;
      }
    </style>

    <!-- Preconnect and Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://github.com" />
    <link rel="preconnect" href="https://raw.githubusercontent.com" />
    <link rel="preconnect" href="https://www.youtube.com" />
    <link rel="dns-prefetch" href="https://www.youtube.com" />
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

    <!-- Three.js and Howler Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/DRACOLoader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>

    <!-- Main CSS (including your existing styles and the added blob/bubble styles) -->
    <style>
      :root {
        --primary: #0071e3;
        --primary-dark: #005bb5;
        --primary-light: #47a0ff;
        --accent: #ffc107;
        --accent-dark: #e6a800;
        --accent-light: #ffdb66;
        --success: #34c759;
        --bg-white: #ffffff;
        --bg-light: #f5f5f7;
        --bg-dark: #000000;
        --text-primary: #1d1d1f;
        --text-secondary: #222222;
        --text-light: #f5f5f7;
        --border-light: rgba(0,0,0,0.1);
        --card-shadow: 0 12px 24px rgba(0,0,0,0.08);
        --transition-fast: 0.2s ease;
        --transition: 0.3s ease;
        --transition-slow: 0.5s ease;
        --container-width: 1200px;
        --radius-sm: 8px;
        --radius-md: 16px;
        --radius-lg: 24px;
        --space-xs: 4px;
        --space-sm: 8px;
        --space-md: 16px;
        --space-lg: 24px;
        --space-xl: 32px;
        --space-xxl: 48px;
        --team-width: 350px;
      }
      
      * { margin: 0; padding: 0; box-sizing: border-box; }
      html { scroll-behavior: smooth; font-size: 16px; }
      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;
        color: var(--text-light);
        line-height: 1.6;
        overflow-x: hidden;
        position: relative;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* ---------- Loading Screen Styles ---------- */
      #loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        /* Start with a radial gradient then fade into pure black */
        background: radial-gradient(circle, rgba(0,0,0,0.4), rgba(0,0,0,0.9));
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        transition: opacity 0.5s ease, background-color 0.5s ease;
      }
      .loading-overlay {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        width: 100%;
        height: 100%;
      }
      #loading-screen h1 {
        font-size: 3rem;
        background: linear-gradient(90deg, #47a0ff, #ffdb66);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 20px;
      }
      #loading-bar-container {
        width: 300px;
        height: 10px; /* Sleeker look */
        border: 1px solid #fff;
        border-radius: 10px;
        overflow: hidden;
        margin-top: 10px;
      }
      #loading-bar {
        width: 0;
        height: 100%;
        background: #0071e3;
        transition: width 1.2s ease-in-out;
      }
      canvas#loadingCanvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        background: #000;
      }

      /* ---------- Blob/Alien Background (Bubbles) ---------- */
      /* This canvas will display the dynamic, organic, bubble-like elements */
      canvas#blobCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -2; /* Placed behind other backgrounds and content */
      }
      
      /* (Include any additional CSS from your main content as needed.
         For brevity, the rest of your existing content CSS is assumed to be here.) */
      /* Example: */
      .container { 
        max-width: 1200px; 
        margin: 140px auto 80px; 
        padding: 40px; 
        background: rgba(255, 255, 255, 0.05); 
        border-radius: 16px; 
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        backdrop-filter: blur(5px);
        position: relative;
        z-index: 10;
      }
      /* … (your other content styles, hero, navbar, footer, media queries, etc.) … */
    </style>
  </head>
  <body class="loading">
    <!-- ---------- Loading Screen ---------- -->
    <div id="loading-screen">
      <canvas id="loadingCanvas"></canvas>
      <div class="loading-overlay">
        <h1>Welcome to Synaeon</h1>
        <div id="loading-bar-container">
          <div id="loading-bar"></div>
        </div>
      </div>
    </div>
    
    <!-- ---------- Blob/Alien Background Canvas ---------- -->
    <canvas id="blobCanvas"></canvas>
    
    <!-- ---------- Main Content (Initially Hidden) ---------- -->
    <div id="main-content" style="display: none;">
      <!-- Optional: if you still use an immersive canvas for additional background effects, include it below -->
      <canvas id="immersive-canvas"></canvas>

      <!-- Audio Controls, Navigation, and Your Page Content -->
      <div id="audio-controls">
        <button id="audio-toggle" aria-label="Toggle Background Music">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M11 5L6 9H2v6h4l5 4V5z"></path>
            <path class="sound-wave" d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
          </svg>
        </button>
        <span class="audio-status">Music: Off</span>
      </div>
      
      <div class="scroll-progress" id="scroll-progress"></div>
      <div class="tech-symbol" id="tech-symbol-1"></div>
      <div class="tech-symbol" id="tech-symbol-2"></div>
      <div class="tech-symbol" id="tech-symbol-3"></div>
      <button id="back-to-top" onclick="scrollToTop()" aria-label="Back to Top">Top</button>
      
      <!-- Navigation and Content … (Your full content such as hero section, sections, footer, etc.) -->
      <nav class="navbar" id="navbar">
        <!-- Your navigation markup -->
      </nav>
      
      <main class="container fade-in" id="pitch-content">
        <!-- Your hero section, videos, text, etc. -->
      </main>
      
      <footer class="footer">
        <!-- Your footer content -->
      </footer>
    </div>

    <!-- ---------- Inline Scripts ---------- -->
    <!-- Loading Screen Transition -->
    <script>
      window.addEventListener('load', function() {
        var loadingBar = document.getElementById('loading-bar');
        loadingBar.style.width = '100%';
        setTimeout(function() {
          var loadingScreen = document.getElementById('loading-screen');
          // Force the loading screen background to pure black
          loadingScreen.style.backgroundColor = '#000';
          document.getElementById('loadingCanvas').style.opacity = '0';
          // Fade out the loading screen
          loadingScreen.style.opacity = '0';
          setTimeout(function() {
            loadingScreen.style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            document.body.classList.remove('loading');
            document.body.classList.add('loaded');
          }, 500);
        }, 1000);
      });
    </script>
    
    <!-- Initialize Blob/Alien Background Canvas -->
    <script>
      function initBlobCanvas() {
        const canvas = document.getElementById('blobCanvas');
        if (!canvas) return;

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 30;

        const metaballs = [];
        const metaballCount = 10;
        const materials = [
          new THREE.MeshStandardMaterial({
            color: 0x47a0ff,
            metalness: 0.2,
            roughness: 0.8,
            transparent: true,
            opacity: 0.8
          }),
          new THREE.MeshStandardMaterial({
            color: 0xffd166,
            metalness: 0.3,
            roughness: 0.7,
            transparent: true,
            opacity: 0.7
          }),
          new THREE.MeshStandardMaterial({
            color: 0xff3366,
            metalness: 0.1,
            roughness: 0.9,
            transparent: true,
            opacity: 0.6
          })
        ];

        function noise3D(x, y, z) {
          return Math.sin(x * 0.1) * Math.sin(y * 0.1) * Math.sin(z * 0.1);
        }

        for (let i = 0; i < metaballCount; i++) {
          const radius = Math.random() * 3 + 1;
          const geometry = new THREE.IcosahedronGeometry(radius, 8);
          const vertices = geometry.attributes.position.array;
          for (let j = 0; j < vertices.length; j += 3) {
            const x = vertices[j], y = vertices[j + 1], z = vertices[j + 2];
            const n = noise3D(x * 5, y * 5, z * 5) * 0.5;
            vertices[j] += x * n;
            vertices[j + 1] += y * n;
            vertices[j + 2] += z * n;
          }
          const material = materials[Math.floor(Math.random() * materials.length)].clone();
          const mesh = new THREE.Mesh(geometry, material);
          mesh.position.x = (Math.random() - 0.5) * 40;
          mesh.position.y = (Math.random() - 0.5) * 40;
          mesh.position.z = (Math.random() - 0.5) * 30;
          mesh.velocity = {
            x: (Math.random() - 0.5) * 0.05,
            y: (Math.random() - 0.5) * 0.05,
            z: (Math.random() - 0.5) * 0.05
          };
          mesh.rotation.x = Math.random() * Math.PI;
          mesh.rotation.y = Math.random() * Math.PI;
          mesh.rotation.z = Math.random() * Math.PI;
          mesh.rotationSpeed = {
            x: (Math.random() - 0.5) * 0.01,
            y: (Math.random() - 0.5) * 0.01,
            z: (Math.random() - 0.5) * 0.01
          };
          mesh.originalColor = new THREE.Color(
            Math.random() * 0.2 + 0.4,
            Math.random() * 0.2 + 0.4,
            Math.random() * 0.5 + 0.5
          );
          mesh.material.color = mesh.originalColor;
          scene.add(mesh);
          metaballs.push(mesh);
        }

        const connectionMaterial = new THREE.LineBasicMaterial({
          color: 0x47a0ff,
          transparent: true,
          opacity: 0.3
        });
        const connections = [];
        function updateConnections() {
          connections.forEach(conn => {
            scene.remove(conn);
            if (conn.geometry) conn.geometry.dispose();
          });
          connections.length = 0;
          for (let i = 0; i < metaballs.length; i++) {
            const ball1 = metaballs[i];
            for (let j = i + 1; j < metaballs.length; j++) {
              const ball2 = metaballs[j];
              const dx = ball1.position.x - ball2.position.x;
              const dy = ball1.position.y - ball2.position.y;
              const dz = ball1.position.z - ball2.position.z;
              const distance = Math.sqrt(dx * dx + dy * dy + dz * dz);
              if (distance < 20) {
                const geometry = new THREE.BufferGeometry().setFromPoints([ball1.position, ball2.position]);
                const line = new THREE.Line(geometry, connectionMaterial);
                scene.add(line);
                connections.push(line);
              }
            }
          }
        }

        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(10, 10, 10);
        scene.add(directionalLight);

        const clock = new THREE.Clock();
        function animateBlob() {
          requestAnimationFrame(animateBlob);
          const elapsedTime = clock.getElapsedTime();
          metaballs.forEach(ball => {
            ball.position.x += ball.velocity.x;
            ball.position.y += ball.velocity.y;
            ball.position.z += ball.velocity.z;
            if (Math.abs(ball.position.x) > 25) ball.velocity.x *= -1;
            if (Math.abs(ball.position.y) > 25) ball.velocity.y *= -1;
            if (Math.abs(ball.position.z) > 25) ball.velocity.z *= -1;
            ball.rotation.x += ball.rotationSpeed.x;
            ball.rotation.y += ball.rotationSpeed.y;
            ball.rotation.z += ball.rotationSpeed.z;
            const scale = 1 + Math.sin(elapsedTime * 2 + ball.position.x * 0.5) * 0.1;
            ball.scale.set(scale, scale, scale);
            const hue = (elapsedTime * 0.05 + ball.position.x * 0.01) % 1;
            ball.material.color.setHSL(hue, 0.6, 0.6);
          });
          if (Math.random() < 0.05) updateConnections();
          // Simple scene rotation based on window mouse movement (if desired)
          scene.rotation.y += 0.0005;
          renderer.render(scene, camera);
        }
        animateBlob();

        window.addEventListener('resize', () => {
          renderer.setSize(window.innerWidth, window.innerHeight);
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
        });
      }
      initBlobCanvas();
    </script>

    <!-- Additional inline scripts (e.g., navigation, demo initialization, etc.) -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Navigation toggle
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('nav-links');
        hamburger.addEventListener('click', function() {
          navLinks.classList.toggle('active');
          hamburger.classList.toggle('active');
        });
        document.querySelectorAll('.nav-link').forEach(link => {
          link.addEventListener('click', function() {
            navLinks.classList.remove('active');
            hamburger.classList.remove('active');
          });
        });
      
        // Navbar scroll effect
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', function() {
          if (window.scrollY > 50) {
            navbar.classList.add('scrolled');
          } else {
            navbar.classList.remove('scrolled');
          }
        });
      
        // Demo buttons for arachnophobia simulation demo (dummy implementations)
        const level1Btn = document.getElementById('level1-btn');
        const level2Btn = document.getElementById('level2-btn');
        if (level1Btn && level2Btn) {
          level1Btn.addEventListener('click', function() {
            initLevel1Demo();
            level1Btn.classList.remove('btn-outline');
            level2Btn.classList.add('btn-outline');
          });
          level2Btn.addEventListener('click', function() {
            initLevel2Demo();
            level2Btn.classList.remove('btn-outline');
            level1Btn.classList.add('btn-outline');
          });
          setTimeout(() => { initLevel1Demo(); }, 1000);
        }
      
        if (document.getElementById('tech-canvas')) {
          initTechDemo();
        }
      });
      
      // Dummy functions for Level demos and tech demo – replace with your actual code.
      function initLevel1Demo() {
        console.log("Initializing Level 1 Demo");
      }
      function initLevel2Demo() {
        console.log("Initializing Level 2 Demo");
      }
      function initTechDemo() {
        console.log("Initializing Tech Demo");
      }
      
      function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    </script>

    <!-- Loading Screen: 3D Icosahedral Sphere Animation -->
    <script>
      (function() {
        const canvas = document.getElementById('loadingCanvas');
        const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 3;
        const geometry = new THREE.IcosahedronGeometry(1, 2);
        const material = new THREE.MeshStandardMaterial({ color: 0x47a0ff, wireframe: true });
        const ball = new THREE.Mesh(geometry, material);
        scene.add(ball);
        const light = new THREE.PointLight(0xffffff, 1);
        light.position.set(5, 5, 5);
        scene.add(light);
        function animate() {
          requestAnimationFrame(animate);
          ball.rotation.x += 0.003;
          ball.rotation.y += 0.005;
          renderer.render(scene, camera);
        }
        animate();
        window.addEventListener('resize', () => {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        });
      })();
      
      // Fade out the loading screen once everything is loaded
      window.addEventListener('load', function() {
        var loadingBar = document.getElementById('loading-bar');
        loadingBar.style.width = '100%';
        setTimeout(function() {
          var loadingScreen = document.getElementById('loading-screen');
          loadingScreen.style.backgroundColor = '#000';
          document.getElementById('loadingCanvas').style.opacity = '0';
          loadingScreen.style.opacity = '0';
          setTimeout(function() {
            loadingScreen.style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            document.body.classList.remove('loading');
            document.body.classList.add('loaded');
          }, 500);
        }, 1000);
      });
    </script>
  </body>
</html>
